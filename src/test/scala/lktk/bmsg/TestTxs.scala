package lktk.bmsg

import lktk.bmsg.messages.{Tx, Tx0, Wtx}
import lktk.bmsg.structures._
import scodec.bits.ByteVector
import scodec.bits._

object TestTxs {

  val coinbase = Tx(
    1L,
    List(TxIn(
      OutPoint((Hash.NULL),4294967295L),
      hex"031f1c08184d696e656420627920416e74506f6f6c373945205b058f92fe4e000042730100",
      4294967295L,
    )),
    List(TxOut(1251871227,hex"76a9141fefe863a7e0ddc767780ce3bedc564cf5cbda6388ac")),
    0L
  )

  val genesisTx = Tx(1,
    List(TxIn(
      OutPoint(Hash.NULL, 4294967295L),
      hex"0x04ffff001d0104455468652054696d65732030332f4a616e2f32303039204368616e63656c6c6f72206f6e206272696e6b206f66207365636f6e64206261696c6f757420666f722062616e6b73",
      4294967295L
    )),
    List(TxOut(5000000000L,
      hex"4104678afdb0fe5548271967f1a67130b7105cd6a828e03909a67962e0ea1f61deb649f6bc3f4cef38c4f35504e51ec112de5c384df7ba0b8d578a4c702b6bf11d5fac"
    )),
    0
  )

  val p2pkh = Tx(
    1L,
    List(
      TxIn(
        OutPoint(Hash(hex"2936ee6a0db4e4901988503bb6e966128dd5fa01bcf08451f78a1d5b08dbbd6d"), 0),
        hex"483045022100f3581e1972ae8ac7c7367a7a253bc1135223adb9a468bb3a59233f45bc578380022059af01ca17d00e41837a1d58e97aa31bae" ++
          hex"584edec28d35bd96923690913bae9a0141049c02bfc97ef236ce6d8fe5d94013c721e915982acd2b12b65d9b7d59e20a842005f8fc4e02532e873d37b96f09d6d4511ada8f14042f46614a4c70c0f14beff5",
        4294967295L)),
    List(
      TxOut(
        5000000,
        hex"76a9141aa0cd1cbea6e7458a7abad512a9d9ea1afb225e88ac"),
      TxOut(
        3354000000L,
        hex"76a9140eab5bea436a0484cfab12485efda0b78b4ecc5288ac")),
    0L
  )

  val p2wpkh = Wtx(
    1,
    List(TxIn(
      OutPoint(Hash(hex"56f87210814c8baef7068454e517a70da2f2103fc3ac7f687e32a228dc80e115"),2),
      ByteVector.empty,
      4294967295L
    )),
    List(TxOut(99988360, hex"76a9141d7cd6c75c2e86f4cbf98eaed221b30bd9a0b92888ac")),
    List(
      ScriptWitness(hex"3045022100f9d3fe35f5ec8ceb07d3db95adcedac446f3b19a8f3174e7e8f904b1594d5b43022074d995d89a278bd874d45d0aea835d3936140397392698b7b5bbcdef8d08f2fd01"),
      ScriptWitness(hex"21038262a6c6cec93c2d3ecd6c6072efea86d02ff8e3328bbd0242b20af3425990acac")
    ),
    0
  )

  val p2wsh = Wtx(
    1,
    List(TxIn(OutPoint(Hash(hex"dcdf97c7e7185e5b039d98f2a87f3f83ce9bf765f1911900d83848099a62dd89"),3),ByteVector.empty,4294967295L)),
    List(
      TxOut(1579136090,hex"76a914bf151342d2859d496036e357d569ab767e07243d88ac"),
      TxOut(421773910, hex"0020701a8d401c84fb13e6baf169d59684e17abd9fa216c8cc5b9fc63d622ff8c58d")
    ),
    List(
      ScriptWitness(ByteVector.empty),
      ScriptWitness(hex"3044022006254598e8747e 62d71186f0b0a503386f36de259feb1323fd6212c5eff6ce240220356fc4443490af3efebf43b8f1227b589504c23147c125c00d6b9a1f18cb0c2701"),
      ScriptWitness(hex"304402204751c5634bf2be5150dad317125eedfbf6eb733475178e062c017c77eee696eb02202e31e95dcd35b4fc630014f43cc40e1ea9d2324ed3582dbe7b20f417afbca43f01"),
      ScriptWitness(hex"52210266edd4ef2953675faf0662c088a7f620935807d200d65387290b31648e51e253210372ce38027ee95c98cdc54172964fa3aecf9f24b85c139d3d203365d6b691d0502103c96d495bfdd5ba4145e3e046fee45e84a8a48ad05bd8dbb395c011a32cf9f88053ae")),0
  )

  val bcoinbase = hex"01000000010000000000000000000000000000000000000000000000000000000000000000ffffffff25031f1c08184d696e656420627920416e74506f6f6c373945205b058f92fe4e000042730100ffffffff01fb099e4a000000001976a9141fefe863a7e0ddc767780ce3bedc564cf5cbda6388ac00000000"

  val bp2wpkh = hex"0100000000010115e180dc28a2327e687facc33f10f2a20da717e5548406f7ae8b4c811072f8560200000000ffffffff0188b3f505000000001976a9141d7cd6c75c2e86f4cbf98eaed221b30bd9a0b92888ac02483045022100f9d3fe35f5ec8ceb07d3db95adcedac446f3b19a8f3174e7e8f904b1594d5b43022074d995d89a278bd874d45d0aea835d3936140397392698b7b5bbcdef8d08f2fd012321038262a6c6cec93c2d3ecd6c6072efea86d02ff8e3328bbd0242b20af3425990acac00000000"
  val bp2wsh = hex"0100000000010189dd629a094838d8001991f165f79bce833f7fa8f2989d035b5e18e7c797dfdc0300000000ffffffff025ab41f5e000000001976a914bf151342d2859d496036e357d569ab767e07243d88ac56c2231900000000220020701a8d401c84fb13e6baf169d59684e17abd9fa216c8cc5b9fc63d622ff8c58d0400473044022006254598e8747e62d71186f0b0a503386f36de259feb1323fd6212c5eff6ce240220356fc4443490af3efebf43b8f1227b589504c23147c125c00d6b9a1f18cb0c270147304402204751c5634bf2be5150dad317125eedfbf6eb733475178e062c017c77eee696eb02202e31e95dcd35b4fc630014f43cc40e1ea9d2324ed3582dbe7b20f417afbca43f016952210266edd4ef2953675faf0662c088a7f620935807d200d65387290b31648e51e253210372ce38027ee95c98cdc54172964fa3aecf9f24b85c139d3d203365d6b691d0502103c96d495bfdd5ba4145e3e046fee45e84a8a48ad05bd8dbb395c011a32cf9f88053ae00000000"

  val bp2pkh = hex"01000000016DBDDB085B1D8AF75184F0BC01FAD58D1266E9B63B50881990E4B40D6AEE3629000000008B483045022100F3581E1972AE8AC7C7367A7A253BC1135223ADB9A468BB3A59233F45BC578380022059AF01CA17D00E41837A1D58E97AA31BAE584EDEC28D35BD96923690913BAE9A0141049C02BFC97EF236CE6D8FE5D94013C721E915982ACD2B12B65D9B7D59E20A842005F8FC4E02532E873D37B96F09D6D4511ADA8F14042F46614A4C70C0F14BEFF5FFFFFFFF02404B4C00000000001976A9141AA0CD1CBEA6E7458A7ABAD512A9D9EA1AFB225E88AC80FAE9C7000000001976A9140EAB5BEA436A0484CFAB12485EFDA0B78B4ECC5288AC00000000 "
  val bp2pkh1 = hex"02000000080ed2667467363f256806df461cf6179747494c071db03e50cf54358755bb07c0010000006a473044022043052a886e77ba041eb718077092d8208af7a4e28a116ca251264f197f1136770220640ef248e69aa973165dbb1b1c6f402e7a21a384cff81be3c997054ed2e156b0012103b219db96bc31d5c77071589fecdfc5b10752894380bd5b4daf4878de9d813939feffffff0f89a57e76e7b39c0a12e706d92f54e0b5ba3048d099f7c8d7f73da296ec0ea6010000006a4730440220168f4764b0afa4e303a01d7e587548c829512e7d1526a64bacef72587907d24002204a7b0abaa2c3470dc92b37f3c05b4d3a1485e6cc3dc335f2ddca39c273539952012103d8c8b98c2511fc35d503e4725dfb62d8602e3ae1b9458d854d2787ffa8db4bfefeffffff13b8abdc04cbc9ceb2317dbfaee77cd9c29feb8ad9c804ae91b60578a6ae557b000000006a4730440220466482c52ca7de17c343ccbc79361f4528a4b29857aad3c3663f5448ae1fa37c022027c177f82fd92b08837f91108627c1134f1a9cc38db54615ce12f0c8e321e7ce0121020b5f7b266e33ba6e77e9e69e539ae43d9958e09e056adff7a25ea1572b355146feffffff4ead0ddaf3486a95928a8bc361a74e4b461e426ea267244c1e40d662faca3cfd010000006a47304402206823946387ae8a5dec6a6b1c39d2634a0dcbdada351a6f9307d1068332ef6339022064cd9832925daa16b5afca811fceaee5ed4aae5ac2404b851280486c968be41a012102854bbc56708172ab9af1ef80f8619f54ec61a6bcd8845260dc81298f61c8040afeffffff6dc7ec95d50d59df4e2edc28e5ad5b1b2b04237e0d6ea6fa60d649f50fbc6c35220000006a473044022018494b9264d5d4b58d082f654ee8a17a776511084cfb80c959db0929561c54eb02206177c61b07f68fa64d5a1c7e732898710865dfcd91e1030730adef781375542c012103fc0da8f4c705e4015501248071e94a0f2e438ed4303d3013d59d00183b9bdb24feffffffb3077593113479fce66615cb7f212f453b2df1d90301fe8620767fcfe5f2b449020000006a4730440220113eb84722d087bb251b0cfcc819d4c181c76fa1f88bab915386570a56685f32022059d330dea7617ca7f809f17ffae40cda3cd0de03ce03ed44f7f2a1dbbf4b93b601210359e9cc1a55fe67630d6c701631779942b9064ac215a824505010b44db3537918feffffffb5c3f9361f00b444a9d6f68b53fa2d4f2085bdad82590902e22271198035f3fd000000006a47304402206fbbc99f7e340dea010a28476b0c64933d8778f6d5fde863e86eedf21210de63022031404cd752db660ff649762afd6c75775ffd581bf35f31f7f8bf8f240b7b958a012103ff649d8bb62af6a35f700422cf56a75c70439fdc525347b8ddb50517da66ddfefefffffffdca043ac3efc470aa3b2db083adf6138ba84d2071fcf3074fdadd9aaceefddb000000006a473044022050111128aed01aa5c74794a278b4ab0de7d428559527af40bcc25d8e3531410202202f643577abfe868d43dcfd670369d691b7d0f8b2fa8908c3c0ed895292aadf090121028f3ff3d00b865dd9ec204aa48cddb0a3ce069998ffa1aca3ccb1d7f10d4bb5ebfeffffff020065cd1d000000001976a914ca587df41f8a5371d56a90581841d36b6ebd7e4888ac668a0900000000001976a9141e58a0a61bbec24c3a0faa5fe36f2ce840be9b8888acfefe0700"
  val bp2pkh2 = hex"0100000001f02f24709cf526362ad96018ee3775dd594ca95e9048bb7bc8f5fc35aeef1013000000006a4730440220039882d9dae83de8cb174121d88c1c07d4237ee91d8b112f0b4c0e2e00ecd5cf022076adc3fd665bc52b13f36bb536a8e30ea0926962b3ed016a7cb00906379b186341210257b7fe1a864c243409e0795610d2c067f66c2d87ef85b34a3b740c910c0e02f3ffffffff02298e0300000000001976a91434fbce128d023ec1d31551f3c1060f1cffc35c6488ac20030000000000001976a914b512badc1dfa76e43b1d73dbd2fc2dceea04a5a588ac00000000"
  val bp2sh = hex"0200000001c11b4f8bdf39da7b32fc49068325d53d67eec84eed4be6ca4d753b5125f5833000000000da00473044022021bb4e0ecdff82972d054bbff4a759d09255a9d79f20d6be99dbe64b8b7e8e2d02201747a9c8362308f3901bd996092e7cbc063a04482f782631eb9d877eb612ca4741483045022100ddbb2de14f55ca6a9b8bae77040f3cb58b1636cd799cea0d37d6256406c60046022019eb7c20430dadc239a50043c94d250873a8d8b62fce72e60207ab8124267a0c4147522102d31aae8e0cf593871c0d180fd7aaf9c7037d64e04495486c9aaf16c7140b61192102ca2cc78e49f1cef0796e0b3a97d6b78282bc00ac9e9e1892964213acb26a5fc252aeffffffff0200a3e111000000001976a91476b57567f095c22bce4217f47fc8d8c98df6651088ac9a97460f0000000017a914fa4d139349c8bda0d59593f7a127a9721b4591d78700000000"

  val all = List(coinbase, p2pkh, p2wsh, p2wpkh) ++
    List(bp2pkh1, bp2pkh2, bp2sh).map(b => Tx0.codec(1).decode(b.toBitVector).require.value)
}